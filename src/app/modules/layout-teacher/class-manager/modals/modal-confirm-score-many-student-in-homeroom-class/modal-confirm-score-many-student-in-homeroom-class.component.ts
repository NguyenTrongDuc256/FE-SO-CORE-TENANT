import { Component, Input, OnInit } from '@angular/core';
import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';
import { Observable, Subscriber } from 'rxjs';
import { Behavior, BehaviorCategories, Course, FormInputScoreManyStudentCourse } from 'src/app/_models/layout-teacher/class-manager/score-behavior-teacher.model';
import { BehaviorTeacherService } from 'src/app/_services/layout-teacher/class-manager/behavior-teacher.service';
import { ListenFirebaseService } from 'src/app/_services/listen-firebase.service';
import { ShowMessageService } from 'src/app/_services/show-message.service';
import { AVATAR_DEFAULT, MESSAGE_ERROR_CALL_API, TIME_OUT_LISTEN_FIREBASE } from 'src/app/_shared/utils/constant';

@Component({
  selector: 'app-modal-confirm-score-many-student-in-homeroom-class',
  templateUrl: './modal-confirm-score-many-student-in-homeroom-class.component.html',
  styleUrls: ['../../../class-manager/style.scss', './modal-confirm-score-many-student-in-homeroom-class.component.scss']
})
export class ModalConfirmScoreManyStudentInHomeroomClassComponent implements OnInit {
  isLoading: boolean = false;
  @Input() dataModal: any;
  dataConfirm: any;
  formValue: any;
  behaviorCategoriesList: BehaviorCategories[] = [];
  behaviorList: Behavior[] = [];
  behaviorCategoriesInfo: BehaviorCategories;
  behaviorInfo: Behavior;
  courseInfo: Course;
  dataStudent: any[] = [];
  avatar: string = AVATAR_DEFAULT;

  constructor(
    public activeModal: NgbActiveModal,
    private showMessageService: ShowMessageService,
    private listenFirebaseService: ListenFirebaseService,
    private behaviorTeacherService: BehaviorTeacherService,
  ) {
  }

  ngOnInit(): void {
    this.dataConfirm = this.dataModal.dataConfirm;
    this.formValue = this.dataModal.formValue;
    this.courseInfo = this.dataModal.courseInfo;
    if (this.dataModal.behaviorCategoriesList.length > 0) {
      this.behaviorCategoriesInfo = this.dataModal.behaviorCategoriesList.find(e => e.id = this.formValue.behaviorCategories);
      this.behaviorInfo = this.dataModal.behaviorList.find(e => e.id = this.formValue.behaviorId);
    }

    /* todo: khi tích hợp API thì xóa data fake*/
    this.dataConfirm = [
      {
        "userId": "a12dc714-db0e-4a44-bece-c7c7399c32b8",
        "point": 10,
        "isApplyTimeNumber": 0,
        "timeNumber": 1
      },
      {
        "userId": "a9930f7f-bc15-435b-8227-505147f16929",
        "point": 20,
        "isApplyTimeNumber": 0,
        "timeNumber": 1
      },
      {
        "userId": "eb3f1997-03f8-4659-be40-2243709747ca",
        "point": 20,
        "isApplyTimeNumber": 0,
        "timeNumber": 2
      }
    ];

    this.formValue.studentBehaviors = [
      {
        "id": "a12dc714-db0e-4a44-bece-c7c7399c32b8",
        "fullName": "Nguyễn Văn Nam 1",
        "code": "abc",
        "gender": 1,
        "avatar": "data:image/jpeg;base64,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",
        "totalPoint": 50,
        "isWarningPoint": 0,
        "isChecked": false,
        "comment": "",
        "displayPoint": 0,
        "checked": true,
        "isDisplay": true
      },
      {
        "id": "a9930f7f-bc15-435b-8227-505147f16929",
        "fullName": "Nguyễn Văn Nam 2",
        "code": "abc",
        "gender": 2,
        "avatar": null,
        "totalPoint": 40,
        "isWarningPoint": 0,
        "isChecked": false,
        "comment": "nhận xét chung",
        "displayPoint": 0,
        "checked": true,
        "isDisplay": true
      },
      {
        "id": "eb3f1997-03f8-4659-be40-2243709747ca",
        "fullName": "Nguyễn Văn Nam 3",
        "code": "abc",
        "gender": 3,
        "avatar": "data:image/jpeg;base64,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",
        "totalPoint": 10,
        "isWarningPoint": 1,
        "isChecked": false,
        "comment": "",
        "displayPoint": 0,
        "checked": true,
        "isDisplay": true
      }
    ]

    this.formValue.studentBehaviors.forEach(e => {
      let dataConfirmStudent = this.dataConfirm.find(item => e.id === item.userId);
      if (dataConfirmStudent != undefined) {
        this.dataStudent.push({
          id: e.id,
          avatar: e.avatar,
          fullName: e.fullName,
          code: e.code,
          comment: e.comment,
          point: dataConfirmStudent.point,
          isApplyTimeNumber: dataConfirmStudent.isApplyTimeNumber,
          timeNumber: dataConfirmStudent.timeNumber,
        })
      }
    })
  }

  closeModal(sendData: any) {
    this.activeModal.close(sendData);
  }

  onSubmit(): void {
    this.isLoading = true;
    let studentBehaviors = []
    this.dataStudent.forEach(e => {
      studentBehaviors.push({
        userId: e.id,
        comment: e.comment,
      })
    })

    let dataInput: FormInputScoreManyStudentCourse = {
      courseId: this.courseInfo.id,
      behaviorId: this.behaviorInfo.id,
      date: this.formValue.date,
      studentBehaviors: studentBehaviors
    }
    this.listenFireBase("grade-multi-student", "behavior-grading");
    this.behaviorTeacherService.storeScoreManyStudentHomeroomClass(dataInput).subscribe((res: any) => {
      this.isLoading = false;
    }, (_err: any) => {
      this.isLoading = false;
      this.showMessageService.error(_err.msg);
    })
  }

  listenFireBase(action: string, module: string): void {
    setTimeout(() => {
      if (this.isLoading == true) {
        this.isLoading = false;
        this.showMessageService.error(MESSAGE_ERROR_CALL_API);
      }
    }, TIME_OUT_LISTEN_FIREBASE);
    const listenFb = new Observable((subscriber: Subscriber<any>) => {
      this.listenFirebaseService.checkFireBase(action, module, subscriber);
    });
    listenFb.subscribe((ref) => {
      if (ref.status) {
        this.isLoading = false;
        this.closeModal(true);
      } else {
        this.isLoading = false;
      }
    });
  }
}

<form [formGroup]="formGroup" *transloco="let t;">
  <div class="modal-header">
    <h5 class="title-modal-global">{{t(dataModal?.titleModal)}}</h5>
    <button type="button" class="close modal-btn-close" data-dismiss="modal" (click)="closeModal(false)"
      name="icon-close" [hidden]="dataModal?.isHiddenBtnClose">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="info-user text-color-river-bed">
      <p class="lb-info fs-14 fw-700">{{t('account')}}: <span class="value-info">{{dataFromParent?.fullName ||
          '--'}}</span></p>
      <p class="lb-info fs-14 fw-700">{{t('code')}}: <span class="value-info">{{dataFromParent?.code || '--'}}</span>
      </p>
      <p class="lb-info fs-14 fw-700">{{t('username')}}: <span class="value-info">{{dataFromParent?.username ||
          '--'}}</span></p>
    </div>
    <div class="row text-color-river-bed">
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-5">
        <label class="fw-600 fs-14 mb-2">{{t('usernameNew')}}</label>
        <div>
          <input type="text" name="username" formControlName="username" class="fs-14 form-control so-form-control"
            autocomplete="off" placeholder="{{t('enterUsernameNew')}}" [class.is-invalid]="formGroup.get('username').invalid && (formGroup.get('username').dirty || formGroup.get('username').touched)" />
          <div class="text-danger mt-2" *ngFor="let err of validationMsg.username">
            <app-field-error-display
              [displayError]="formGroup.get('username').hasError(err.type) && (formGroup.get('username').dirty || formGroup.get('username').touched)"
              errorMsg="{{ t(err.message) }}">
            </app-field-error-display>
          </div>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
        <label class="fw-600 fs-14 mb-2">{{t('codeNew')}}</label>
        <div>
          <input type="text" name="code" formControlName="code" class="fs-14 form-control so-form-control"
            autocomplete="off" placeholder="{{t('enterCodeNew')}}" [class.is-invalid]="formGroup.get('code').invalid && (formGroup.get('code').dirty || formGroup.get('code').touched)" />
          <div class="text-danger mt-2" *ngFor="let err of validationMsg.code">
            <app-field-error-display
              [displayError]="formGroup.get('code').hasError(err.type) && (formGroup.get('code').dirty || formGroup.get('code').touched)"
              errorMsg="{{ t(err.message) }}">
            </app-field-error-display>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="so-btn so-btn-cancel" data-dismiss="modal" name="btn-cancel"
      (click)="closeModal(false)">{{t(dataModal?.btnCancel)}}</button>
    <button type="button" class="so-btn so-btn-primary so-btn-primary--small" name="btn-accept"
      (click)="submit(formGroup.value)">{{t(dataModal?.btnAccept)}}</button>
  </div>
</form>

<div class="spinner" *ngIf="isLoading">
  <app-loading></app-loading>
</div>